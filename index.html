<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏≤‡∏á‡∏î‡∏á‡∏£‡∏±‡∏ê‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better content flow */
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* Softer shadow */
            padding: 30px;
            max-width: 900px;
            width: 100%;
            animation: fadeIn 0.8s ease-out; /* Fade in animation for the whole container */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .input-group {
            margin-bottom: 20px;
        }
        textarea {
            width: 100%;
            min-height: 150px; /* Increased height for better text input */
            padding: 12px;
            border: 1px solid #d1d5db; /* Light gray border */
            border-radius: 8px;
            font-family: 'Sarabun', sans-serif;
            font-size: 1em;
            resize: vertical; /* Allow vertical resizing */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.06);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        textarea:focus {
            outline: none;
            border-color: #6366f1; /* Indigo focus color */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        .process-button {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 25px;
            background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); /* Gradient background */
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(37, 117, 252, 0.4);
            border: none;
            outline: none;
            width: 100%;
        }
        .process-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 117, 252, 0.6);
        }
        .process-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 10px rgba(37, 117, 252, 0.4);
        }
        .process-button:disabled {
            background-image: linear-gradient(to right, #a0a0a0 0%, #c0c0c0 100%);
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .results-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            animation: slideInUp 0.8s ease-out; /* Slide in animation for results */
        }
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background-color: #fdfdfd;
            border-radius: 8px;
            overflow: hidden; /* Ensures rounded corners apply to table content */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }
        th {
            background-color: #e8f5e9; /* Light green for headers */
            font-weight: 600;
            color: #333;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .footer {
            margin-top: 40px;
            text-align: center;
            color: #777;
            font-size: 0.9em;
            padding-top: 20px;
            border-top: 1px dashed #e0e0e0;
        }
        .message-box {
            background-color: #ffebee; /* Light red for errors */
            color: #d32f2f; /* Dark red text */
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 5px rgba(211, 47, 47, 0.1);
        }
        .success-box {
            background-color: #e8f5e9; /* Light green for success */
            color: #388e3c; /* Dark green text */
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 5px rgba(56, 142, 60, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-8 flex items-center justify-center gap-3">
            <span class="text-blue-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</span> üè´‚ú®
            <span class="text-xl text-gray-600">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏≤‡∏á‡∏î‡∏á‡∏£‡∏±‡∏ê‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå</span>
        </h1>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="input-group">
                <label for="sourceText" class="block text-gray-700 text-lg font-semibold mb-2">
                    ‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà üßë‚Äçüè´
                </label>
                <textarea id="sourceText" placeholder="‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏ä‡πà‡∏ô
‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ
‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤ ‡∏°‡∏µ‡∏™‡∏∏‡∏Ç
‡∏ô‡∏≤‡∏¢‡∏à‡∏±‡∏Å‡∏£‡∏û‡∏á‡∏®‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏ß‡∏á‡∏®‡πå
‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏°‡∏®‡∏£‡∏µ ‡∏™‡∏∏‡∏Ç‡πÉ‡∏à
..." oninput="checkTextInputs()"></textarea>
            </div>

            <div class="input-group">
                <label for="orderText" class="block text-gray-700 text-lg font-semibold mb-2">
                    ‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà üìú
                </label>
                <textarea id="orderText" placeholder="‡∏ß‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ú‡∏¥‡∏î
‡πÄ‡∏ä‡πà‡∏ô
‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏≤‡∏á‡∏î‡∏á‡∏£‡∏±‡∏ê‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå ‡∏ó‡∏µ‡πà 123/2568
‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡∏õ‡∏é‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏π
1. ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
2.1 ‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡πâ‡∏á ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢‡πÉ‡∏à‡∏î‡∏µ ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
2.2 ‡πÉ‡∏´‡πâ ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤‡∏°‡∏µ‡∏™‡∏∏‡∏Ç ‡∏õ‡∏é‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà ‡πÄ‡∏•‡∏Ç‡∏≤‡∏ô‡∏∏‡∏Å‡∏≤‡∏£
3. ‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡∏™‡∏≠‡∏ô ‡∏ó‡∏∏‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ô
4. ‡πÉ‡∏´‡πâ ‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÇ‡∏≠‡∏ä‡∏≤ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô
5. ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ô‡∏†‡∏≤‡∏û
...
‡∏à‡∏∂‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏£‡∏≤‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ï
..." oninput="checkTextInputs()"></textarea>
            </div>
        </div>

        <button id="processButton" class="process-button" onclick="processText()" disabled>
            <span id="buttonText">‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• üöÄ</span>
        </button>

        <div id="loadingIndicator" class="hidden flex items-center justify-center text-blue-600 font-semibold mt-6">
            <div class="loading-spinner"></div>
            ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•... ‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà
        </div>

        <div id="resultsSection" class="results-section hidden">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-6 flex items-center justify-center gap-2">
                ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‚úÖ
            </h2>

            <div id="nameResults" class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
                    <span class="text-red-500">‚ùå</span> ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î
                </h3>
                <table id="incorrectNamesTable">
                    <thead>
                        <tr>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î</th>
                            <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠/‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
                <div id="noIncorrectNames" class="success-box mt-4 hidden">
                    <span class="text-2xl">üéâ</span> ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î
                </div>

                <h3 class="text-2xl font-semibold text-gray-700 mt-8 mb-4 flex items-center gap-2">
                    <span class="text-orange-500">‚ö†Ô∏è</span> ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
                </h3>
                <ul id="namesNotInSourceList" class="list-disc pl-5 text-gray-700">
                    </ul>
                <div id="noNamesNotInSource" class="success-box mt-4 hidden">
                    <span class="text-2xl">üëç</span> ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
                </div>
            </div>

            <div id="spellCheckResults">
                <h3 class="text-2xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
                    <span class="text-red-500">üìù</span> ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î
                </h3>
                <table id="incorrectWordsTable">
                    <thead>
                        <tr>
                            <th>‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î</th>
                            <th>‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</th>
                            <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠/‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
                <div id="noIncorrectWords" class="success-box mt-4 hidden">
                    <span class="text-2xl">‚úÖ</span> ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î
                </div>
            </div>
        </div>

        <div class="footer">
            ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏î‡∏¢ ‡∏ô‡∏≤‡∏¢‡∏à‡∏±‡∏Å‡∏£‡∏û‡∏á‡∏®‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏ß‡∏á‡∏®‡πå ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏≤‡∏á‡∏î‡∏á‡∏£‡∏±‡∏ê‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå üë®‚Äçüíª
        </div>
    </div>

    <script>
        // Get references to DOM elements
        const sourceTextarea = document.getElementById('sourceText');
        const orderTextarea = document.getElementById('orderText');
        const processButton = document.getElementById('processButton');
        const buttonText = document.getElementById('buttonText');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const resultsSection = document.getElementById('resultsSection');
        const incorrectNamesTableBody = document.querySelector('#incorrectNamesTable tbody');
        const namesNotInSourceList = document.getElementById('namesNotInSourceList');
        const incorrectWordsTableBody = document.querySelector('#incorrectWordsTable tbody');
        const noIncorrectNames = document.getElementById('noIncorrectNames');
        const noNamesNotInSource = document.getElementById('noNamesNotInSource');
        const noIncorrectWords = document.getElementById('noIncorrectWords');

        // Helper function to find a section header by looking backwards from the current line
        function getSectionFromLine(lineIndex, allLines) {
            for (let i = lineIndex; i >= 0; i--) {
                const currentLine = allLines[i].trim();
                // Patterns for common section headers in Thai documents:
                // 1. (Number.Number) Title (e.g., "1. ‡∏ö‡∏ó‡∏ô‡∏≥", "2.1 ‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô")
                // 2. ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Title (e.g., "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡πâ‡∏á")
                // 3. ‡∏Ç‡πâ‡∏≠ Number Title (e.g., "‡∏Ç‡πâ‡∏≠ 1 ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£")
                if (currentLine.match(/^(\d+(\.\d+)*\s+.*|‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á\s+.*|‡∏Ç‡πâ‡∏≠\s+\d+\s*.*)/)) {
                    // Return the section header, truncated if too long
                    return currentLine.length > 50 ? currentLine.substring(0, 50) + '...' : currentLine;
                }
            }
            return ''; // No section found
        }

        // Function to check if both textareas have content
        function checkTextInputs() {
            if (sourceTextarea.value.trim() !== '' && orderTextarea.value.trim() !== '') {
                processButton.disabled = false;
            } else {
                processButton.disabled = true;
            }
        }

        // Function to process text content using Gemini API
        async function processText() {
            const sourceContent = sourceTextarea.value;
            const orderContent = orderTextarea.value;

            // Hide previous results and show loading indicator
            resultsSection.classList.add('hidden');
            loadingIndicator.classList.remove('hidden');
            processButton.disabled = true;
            buttonText.innerHTML = '<div class="loading-spinner"></div> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';

            // Clear previous results
            incorrectNamesTableBody.innerHTML = '';
            namesNotInSourceList.innerHTML = '';
            incorrectWordsTableBody.innerHTML = '';
            noIncorrectNames.classList.add('hidden');
            noNamesNotInSource.classList.add('hidden');
            noIncorrectWords.classList.add('hidden');

            try {
                // Construct the prompt for Gemini API
                let chatHistory = [];
                const prompt = `
                    ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢.
                    ‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 2 ‡∏™‡πà‡∏ß‡∏ô:
                    1. '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö': ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                    2. '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á': ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

                    ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠:
                    1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏Å‡∏î‡∏ú‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö'
                       - ‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏Å‡∏î‡∏ú‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏ '‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö' (‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á), '‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î', ‡πÅ‡∏•‡∏∞ '‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á' ‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
                       - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á '‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö' ‡πÅ‡∏•‡∏∞ '‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î' ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏≥ (‡πÄ‡∏ä‡πà‡∏ô '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ' ‡∏Å‡∏±‡∏ö '‡∏™‡∏°‡∏ä‡∏≤‡∏¢‡πÉ‡∏à‡∏î‡∏µ', '‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ' ‡∏Å‡∏±‡∏ö '‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢‡πÉ‡∏à‡∏î‡∏µ') **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ**
                    2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö'
                       - ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏ '‡∏ä‡∏∑‡πà‡∏≠' ‡πÅ‡∏•‡∏∞ '‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á' ‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
                    3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏Å‡∏î‡∏ú‡∏¥‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                       - ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏ '‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î', '‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', ‡πÅ‡∏•‡∏∞ '‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á' ‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á

                    ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: [‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠], ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà X" (‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ)

                    ‡πÇ‡∏õ‡∏£‡∏î‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:
                    {
                        "incorrectNames": [
                            { "original": "‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö", "incorrect": "‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î", "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" }
                        ],
                        "namesNotInSource": [
                            { "name": "‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•", "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" }
                        ],
                        "incorrectWords": [
                            { "incorrect": "‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ú‡∏¥‡∏î", "correct": "‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" }
                        ]
                    }

                    ---
                    ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö:
                    ${sourceContent}

                    ---
                    ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
                    ${orderContent}
                    ---
                    `;

                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = {
                    contents: chatHistory,
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "incorrectNames": {
                                    "type": "ARRAY",
                                    "items": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "original": { "type": "STRING" },
                                            "incorrect": { "type": "STRING" },
                                            "location": { "type": "STRING" }
                                        },
                                        "propertyOrdering": ["original", "incorrect", "location"]
                                    }
                                },
                                "namesNotInSource": {
                                    "type": "ARRAY",
                                    "items": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "name": { "type": "STRING" },
                                            "location": { "type": "STRING" }
                                        },
                                        "propertyOrdering": ["name", "location"]
                                    }
                                },
                                "incorrectWords": {
                                    "type": "ARRAY",
                                    "items": {
                                        "type": "OBJECT",
                                        "properties": {
                                            "incorrect": { "type": "STRING" },
                                            "correct": { "type": "STRING" },
                                            "location": { "type": "STRING" }
                                        },
                                        "propertyOrdering": ["incorrect", "correct", "location"]
                                    }
                                }
                            },
                            "propertyOrdering": ["incorrectNames", "namesNotInSource", "incorrectWords"]
                        }
                    }
                };

                // API Key for Gemini.
                // Leave this as-is. Canvas will automatically provide it when running in the environment.
                const apiKey = "AIzaSyCRJeE997JfqEIzct8Qet9Fk9gYoZ1OOIs";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                let finalIncorrectNames = [];
                let finalNamesNotInSource = [];
                let finalIncorrectWords = [];

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const rawJsonString = result.candidates[0].content.parts[0].text;
                    let jsonString = rawJsonString;

                    // Attempt to extract JSON if it's wrapped in markdown code block or extra text
                    const jsonMatch = rawJsonString.match(/```json\s*([\s\S]*?)\s*```/);
                    if (jsonMatch && jsonMatch[1]) {
                        jsonString = jsonMatch[1];
                    } else {
                        // If not a markdown block, try to find the first '{' and last '}'
                        const firstBrace = rawJsonString.indexOf('{');
                        const lastBrace = rawJsonString.lastIndexOf('}');
                        if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {
                            jsonString = rawJsonString.substring(firstBrace, lastBrace + 1);
                        }
                    }

                    try {
                        const parsedJson = JSON.parse(jsonString);
                        finalIncorrectNames = parsedJson.incorrectNames || [];
                        finalNamesNotInSource = parsedJson.namesNotInSource || [];
                        finalIncorrectWords = parsedJson.incorrectWords || [];
                    } catch (parseError) {
                        console.error("Failed to parse JSON from AI response:", parseError);
                        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å AI: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏î‡πâ\n" +
                              "‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô");
                    }
                } else {
                    console.error("Unexpected AI response structure:", result);
                    alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å AI: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á\n" +
                          "‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô");
                }

                // Populate Incorrect Names Table
                if (finalIncorrectNames.length > 0) {
                    noIncorrectNames.classList.add('hidden');
                    finalIncorrectNames.forEach(item => {
                        const row = incorrectNamesTableBody.insertRow();
                        row.innerHTML = `
                            <td>${item.original}</td>
                            <td class="font-bold text-red-600">${item.incorrect}</td>
                            <td class="text-sm text-gray-500">${item.location}</td>
                        `;
                    });
                } else {
                    noIncorrectNames.classList.remove('hidden');
                }

                // Populate Names Not In Source List
                if (finalNamesNotInSource.length > 0) {
                    noNamesNotInSource.classList.add('hidden');
                    finalNamesNotInSource.forEach(item => {
                        const listItem = document.createElement('li');
                        listItem.className = 'mb-1';
                        listItem.innerHTML = `<span class="font-semibold">${item.name}</span> (${item.location})`;
                        namesNotInSourceList.appendChild(listItem);
                    });
                } else {
                    noNamesNotInSource.classList.remove('hidden');
                }

                // Populate Incorrect Words Table
                if (finalIncorrectWords.length > 0) {
                    noIncorrectWords.classList.add('hidden');
                    finalIncorrectWords.forEach(item => {
                        const row = incorrectWordsTableBody.insertRow();
                        row.innerHTML = `
                            <td class="font-bold text-red-600">${item.incorrect}</td>
                            <td class="font-semibold text-green-600">${item.correct}</td>
                            <td class="text-sm text-gray-500">${item.location}</td>
                        `;
                    });
                } else {
                    noIncorrectWords.classList.remove('hidden');
                }

            } catch (error) {
                console.error("Error during AI processing:", error);
                alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏±‡∏ö AI: " + error.message +
                      "\n‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
            } finally {
                // Hide loading indicator and show results
                loadingIndicator.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                processButton.disabled = false;
                buttonText.innerHTML = '‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• üöÄ';
            }
        }

        // Initial check when page loads
        checkTextInputs();
    </script>
</body>
</html>
